{"ast":null,"code":"import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Trigger from 'rc-trigger';\nimport raf from \"rc-util/es/raf\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport CSSMotion from 'rc-motion';\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport SubPopupMenu from './SubPopupMenu';\nimport { placements, placementsRtl } from './placements';\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey, menuAllProps } from './util';\nvar guid = 0;\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\n  var menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  var state = store.getState();\n  store.setState({\n    defaultActiveFirst: _objectSpread(_objectSpread({}, state.defaultActiveFirst), {}, _defineProperty({}, menuId, defaultActiveFirst))\n  });\n};\nexport var SubMenu = /*#__PURE__*/function (_React$Component) {\n  _inherits(SubMenu, _React$Component);\n  var _super = _createSuper(SubMenu);\n  function SubMenu(props) {\n    var _this;\n    _classCallCheck(this, SubMenu);\n    _this = _super.call(this, props);\n    _this.onDestroy = function (key) {\n      _this.props.onDestroy(key);\n    };\n    /**\n     * note:\n     *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n     *  which need return code to check if this event is handled\n     */\n\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode;\n      var menu = _this.menuInstance;\n      var store = _this.props.store;\n      var visible = _this.getVisible();\n      if (keyCode === KeyCode.ENTER) {\n        _this.onTitleClick(e);\n        updateDefaultActiveFirst(store, _this.props.eventKey, true);\n        return true;\n      }\n      if (keyCode === KeyCode.RIGHT) {\n        if (visible) {\n          menu.onKeyDown(e);\n        } else {\n          _this.triggerOpenChange(true); // need to update current menu's defaultActiveFirst value\n\n          updateDefaultActiveFirst(store, _this.props.eventKey, true);\n        }\n        return true;\n      }\n      if (keyCode === KeyCode.LEFT) {\n        var handled;\n        if (visible) {\n          handled = menu.onKeyDown(e);\n        } else {\n          return undefined;\n        }\n        if (!handled) {\n          _this.triggerOpenChange(false);\n          handled = true;\n        }\n        return handled;\n      }\n      if (visible && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n        return menu.onKeyDown(e);\n      }\n      return undefined;\n    };\n    _this.onOpenChange = function (e) {\n      _this.props.onOpenChange(e);\n    };\n    _this.onPopupVisibleChange = function (visible) {\n      _this.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n    };\n    _this.onMouseEnter = function (e) {\n      var _this$props = _this.props,\n        key = _this$props.eventKey,\n        onMouseEnter = _this$props.onMouseEnter,\n        store = _this$props.store;\n      updateDefaultActiveFirst(store, _this.props.eventKey, false);\n      onMouseEnter({\n        key: key,\n        domEvent: e\n      });\n    };\n    _this.onMouseLeave = function (e) {\n      var _this$props2 = _this.props,\n        parentMenu = _this$props2.parentMenu,\n        eventKey = _this$props2.eventKey,\n        onMouseLeave = _this$props2.onMouseLeave;\n      parentMenu.subMenuInstance = _assertThisInitialized(_this);\n      onMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n    _this.onTitleMouseEnter = function (domEvent) {\n      var _this$props3 = _this.props,\n        key = _this$props3.eventKey,\n        onItemHover = _this$props3.onItemHover,\n        onTitleMouseEnter = _this$props3.onTitleMouseEnter;\n      onItemHover({\n        key: key,\n        hover: true\n      });\n      onTitleMouseEnter({\n        key: key,\n        domEvent: domEvent\n      });\n    };\n    _this.onTitleMouseLeave = function (e) {\n      var _this$props4 = _this.props,\n        parentMenu = _this$props4.parentMenu,\n        eventKey = _this$props4.eventKey,\n        onItemHover = _this$props4.onItemHover,\n        onTitleMouseLeave = _this$props4.onTitleMouseLeave;\n      parentMenu.subMenuInstance = _assertThisInitialized(_this);\n      onItemHover({\n        key: eventKey,\n        hover: false\n      });\n      onTitleMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n    _this.onTitleClick = function (e) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n        props = _assertThisInitialize.props;\n      props.onTitleClick({\n        key: props.eventKey,\n        domEvent: e\n      });\n      if (props.triggerSubMenuAction === 'hover') {\n        return;\n      }\n      _this.triggerOpenChange(!_this.getVisible(), 'click');\n      updateDefaultActiveFirst(props.store, _this.props.eventKey, false);\n    };\n    _this.onSubMenuClick = function (info) {\n      // in the case of overflowed submenu\n      // onClick is not copied over\n      if (typeof _this.props.onClick === 'function') {\n        _this.props.onClick(_this.addKeyPath(info));\n      }\n    };\n    _this.onSelect = function (info) {\n      _this.props.onSelect(info);\n    };\n    _this.onDeselect = function (info) {\n      _this.props.onDeselect(info);\n    };\n    _this.getPrefixCls = function () {\n      return \"\".concat(_this.props.rootPrefixCls, \"-submenu\");\n    };\n    _this.getActiveClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-active\");\n    };\n    _this.getDisabledClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-disabled\");\n    };\n    _this.getSelectedClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-selected\");\n    };\n    _this.getOpenClassName = function () {\n      return \"\".concat(_this.props.rootPrefixCls, \"-submenu-open\");\n    };\n    _this.getVisible = function () {\n      return _this.state.isOpen;\n    };\n    _this.getMode = function () {\n      return _this.state.mode;\n    };\n    _this.saveMenuInstance = function (c) {\n      // children menu instance\n      _this.menuInstance = c;\n    };\n    _this.addKeyPath = function (info) {\n      return _objectSpread(_objectSpread({}, info), {}, {\n        keyPath: (info.keyPath || []).concat(_this.props.eventKey)\n      });\n    };\n    _this.triggerOpenChange = function (open, type) {\n      var key = _this.props.eventKey;\n      var openChange = function openChange() {\n        _this.onOpenChange({\n          key: key,\n          item: _assertThisInitialized(_this),\n          trigger: type,\n          open: open\n        });\n      };\n      if (type === 'mouseenter') {\n        // make sure mouseenter happen after other menu item's mouseleave\n        _this.mouseenterTimeout = setTimeout(function () {\n          openChange();\n        }, 0);\n      } else {\n        openChange();\n      }\n    };\n    _this.isChildrenSelected = function () {\n      var ret = {\n        find: false\n      };\n      loopMenuItemRecursively(_this.props.children, _this.props.selectedKeys, ret);\n      return ret.find;\n    };\n    _this.isInlineMode = function () {\n      return _this.getMode() === 'inline';\n    };\n    _this.adjustWidth = function () {\n      /* istanbul ignore if */\n      if (!_this.subMenuTitle || !_this.menuInstance) {\n        return;\n      }\n      var popupMenu = ReactDOM.findDOMNode(_this.menuInstance);\n      if (popupMenu.offsetWidth >= _this.subMenuTitle.offsetWidth) {\n        return;\n      }\n      /* istanbul ignore next */\n\n      popupMenu.style.minWidth = \"\".concat(_this.subMenuTitle.offsetWidth, \"px\");\n    };\n    _this.saveSubMenuTitle = function (subMenuTitle) {\n      _this.subMenuTitle = subMenuTitle;\n    };\n    _this.getBaseProps = function () {\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n        props = _assertThisInitialize2.props;\n      var mergedMode = _this.getMode();\n      return {\n        mode: mergedMode === 'horizontal' ? 'vertical' : mergedMode,\n        visible: _this.getVisible(),\n        level: props.level + 1,\n        inlineIndent: props.inlineIndent,\n        focusable: false,\n        onClick: _this.onSubMenuClick,\n        onSelect: _this.onSelect,\n        onDeselect: _this.onDeselect,\n        onDestroy: _this.onDestroy,\n        selectedKeys: props.selectedKeys,\n        eventKey: \"\".concat(props.eventKey, \"-menu-\"),\n        openKeys: props.openKeys,\n        motion: props.motion,\n        onOpenChange: _this.onOpenChange,\n        subMenuOpenDelay: props.subMenuOpenDelay,\n        parentMenu: _assertThisInitialized(_this),\n        subMenuCloseDelay: props.subMenuCloseDelay,\n        forceSubMenuRender: props.forceSubMenuRender,\n        triggerSubMenuAction: props.triggerSubMenuAction,\n        builtinPlacements: props.builtinPlacements,\n        defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n        multiple: props.multiple,\n        prefixCls: props.rootPrefixCls,\n        id: _this.internalMenuId,\n        manualRef: _this.saveMenuInstance,\n        itemIcon: props.itemIcon,\n        expandIcon: props.expandIcon,\n        direction: props.direction\n      };\n    };\n    _this.getMotion = function (mode, visible) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n        haveRendered = _assertThisInitialize3.haveRendered;\n      var _this$props5 = _this.props,\n        motion = _this$props5.motion,\n        rootPrefixCls = _this$props5.rootPrefixCls; // don't show transition on first rendering (no animation for opened menu)\n      // show appear transition if it's not visible (not sure why)\n      // show appear transition if it's not inline mode\n\n      var mergedMotion = _objectSpread(_objectSpread({}, motion), {}, {\n        leavedClassName: \"\".concat(rootPrefixCls, \"-hidden\"),\n        removeOnLeave: false,\n        motionAppear: haveRendered || !visible || mode !== 'inline'\n      });\n      return mergedMotion;\n    };\n    var store = props.store,\n      eventKey = props.eventKey;\n    var _store$getState = store.getState(),\n      defaultActiveFirst = _store$getState.defaultActiveFirst;\n    _this.isRootMenu = false;\n    var value = false;\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n    updateDefaultActiveFirst(store, eventKey, value);\n    _this.state = {\n      mode: props.mode,\n      isOpen: props.isOpen\n    };\n    return _this;\n  }\n  _createClass(SubMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.componentDidUpdate();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n      var _this$props6 = this.props,\n        mode = _this$props6.mode,\n        parentMenu = _this$props6.parentMenu,\n        manualRef = _this$props6.manualRef,\n        isOpen = _this$props6.isOpen;\n      var updateState = function updateState() {\n        _this2.setState({\n          mode: mode,\n          isOpen: isOpen\n        });\n      }; // Delay sync when mode changed in case openKeys change not sync\n\n      var isOpenChanged = isOpen !== this.state.isOpen;\n      var isModeChanged = mode !== this.state.mode;\n      if (isModeChanged || isOpenChanged) {\n        raf.cancel(this.updateStateRaf);\n        if (isModeChanged) {\n          this.updateStateRaf = raf(updateState);\n        } else {\n          updateState();\n        }\n      } // invoke customized ref to expose component to mixin\n\n      if (manualRef) {\n        manualRef(this);\n      }\n      if (mode !== 'horizontal' || !(parentMenu === null || parentMenu === void 0 ? void 0 : parentMenu.isRootMenu) || !isOpen) {\n        return;\n      }\n      this.minWidthTimeout = setTimeout(function () {\n        return _this2.adjustWidth();\n      }, 0);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$props7 = this.props,\n        onDestroy = _this$props7.onDestroy,\n        eventKey = _this$props7.eventKey;\n      if (onDestroy) {\n        onDestroy(eventKey);\n      }\n      /* istanbul ignore if */\n\n      if (this.minWidthTimeout) {\n        clearTimeout(this.minWidthTimeout);\n      }\n      /* istanbul ignore if */\n\n      if (this.mouseenterTimeout) {\n        clearTimeout(this.mouseenterTimeout);\n      }\n      raf.cancel(this.updateStateRaf);\n    }\n  }, {\n    key: \"renderPopupMenu\",\n    value: function renderPopupMenu(className, style) {\n      var baseProps = this.getBaseProps();\n      /**\n       * zombiej: Why SubPopupMenu here?\n       * Seems whatever popup or inline mode both will render SubPopupMenu.\n       * It's controlled by Trigger for popup or not.\n       */\n\n      return /*#__PURE__*/React.createElement(SubPopupMenu, _extends({}, baseProps, {\n        id: this.internalMenuId,\n        className: className,\n        style: style\n      }), this.props.children);\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this3 = this;\n      var baseProps = this.getBaseProps();\n      var mode = baseProps.mode,\n        visible = baseProps.visible,\n        forceSubMenuRender = baseProps.forceSubMenuRender,\n        direction = baseProps.direction; // [Legacy] getMotion must be called before `haveRendered`\n\n      var mergedMotion = this.getMotion(mode, visible);\n      this.haveRendered = true;\n      this.haveOpened = this.haveOpened || visible || forceSubMenuRender; // never rendered not planning to, don't render\n\n      if (!this.haveOpened) {\n        return /*#__PURE__*/React.createElement(\"div\", null);\n      }\n      var sharedClassName = classNames(\"\".concat(baseProps.prefixCls, \"-sub\"), _defineProperty({}, \"\".concat(baseProps.prefixCls, \"-rtl\"), direction === 'rtl'));\n      if (!this.isInlineMode()) {\n        return this.renderPopupMenu(sharedClassName);\n      }\n      return /*#__PURE__*/React.createElement(CSSMotion, _extends({\n        visible: baseProps.visible,\n        forceRender: forceSubMenuRender\n      }, mergedMotion), function (_ref) {\n        var className = _ref.className,\n          style = _ref.style;\n        var mergedClassName = classNames(sharedClassName, className);\n        return _this3.renderPopupMenu(mergedClassName, style);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames2, _props$parentMenu, _classNames3;\n      var props = _objectSpread({}, this.props);\n      var visible = this.getVisible();\n      var prefixCls = this.getPrefixCls();\n      var inline = this.isInlineMode();\n      var mergedMode = this.getMode();\n      var className = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(mergedMode), (_classNames2 = {}, _defineProperty(_classNames2, props.className, !!props.className), _defineProperty(_classNames2, this.getOpenClassName(), visible), _defineProperty(_classNames2, this.getActiveClassName(), props.active || visible && !inline), _defineProperty(_classNames2, this.getDisabledClassName(), props.disabled), _defineProperty(_classNames2, this.getSelectedClassName(), this.isChildrenSelected()), _classNames2));\n      if (!this.internalMenuId) {\n        if (props.eventKey) {\n          this.internalMenuId = \"\".concat(props.eventKey, \"$Menu\");\n        } else {\n          guid += 1;\n          this.internalMenuId = \"$__$\".concat(guid, \"$Menu\");\n        }\n      }\n      var mouseEvents = {};\n      var titleClickEvents = {};\n      var titleMouseEvents = {};\n      if (!props.disabled) {\n        mouseEvents = {\n          onMouseLeave: this.onMouseLeave,\n          onMouseEnter: this.onMouseEnter\n        }; // only works in title, not outer li\n\n        titleClickEvents = {\n          onClick: this.onTitleClick\n        };\n        titleMouseEvents = {\n          onMouseEnter: this.onTitleMouseEnter,\n          onMouseLeave: this.onTitleMouseLeave\n        };\n      }\n      var style = {};\n      var direction = props.direction;\n      var isRTL = direction === 'rtl';\n      if (inline) {\n        if (isRTL) {\n          style.paddingRight = props.inlineIndent * props.level;\n        } else {\n          style.paddingLeft = props.inlineIndent * props.level;\n        }\n      }\n      var ariaOwns = {}; // only set aria-owns when menu is open\n      // otherwise it would be an invalid aria-owns value\n      // since corresponding node cannot be found\n\n      if (this.getVisible()) {\n        ariaOwns = {\n          'aria-owns': this.internalMenuId\n        };\n      } // expand custom icon should NOT be displayed in menu with horizontal mode.\n\n      var icon = null;\n      if (mergedMode !== 'horizontal') {\n        icon = this.props.expandIcon; // ReactNode\n\n        if (typeof this.props.expandIcon === 'function') {\n          icon = /*#__PURE__*/React.createElement(this.props.expandIcon, _objectSpread({}, this.props));\n        }\n      }\n      var title = /*#__PURE__*/React.createElement(\"div\", _extends({\n        ref: this.saveSubMenuTitle,\n        style: style,\n        className: \"\".concat(prefixCls, \"-title\"),\n        role: \"button\"\n      }, titleMouseEvents, titleClickEvents, {\n        \"aria-expanded\": visible\n      }, ariaOwns, {\n        \"aria-haspopup\": \"true\",\n        title: typeof props.title === 'string' ? props.title : undefined\n      }), props.title, icon || /*#__PURE__*/React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow\")\n      }));\n      var children = this.renderChildren();\n      var getPopupContainer = ((_props$parentMenu = props.parentMenu) === null || _props$parentMenu === void 0 ? void 0 : _props$parentMenu.isRootMenu) ? props.parentMenu.props.getPopupContainer : function (triggerNode) {\n        return triggerNode.parentNode;\n      };\n      var popupPlacement = popupPlacementMap[mergedMode];\n      var popupAlign = props.popupOffset ? {\n        offset: props.popupOffset\n      } : {};\n      var popupClassName = classNames((_classNames3 = {}, _defineProperty(_classNames3, props.popupClassName, props.popupClassName && !inline), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-rtl\"), isRTL), _classNames3));\n      var disabled = props.disabled,\n        triggerSubMenuAction = props.triggerSubMenuAction,\n        subMenuOpenDelay = props.subMenuOpenDelay,\n        forceSubMenuRender = props.forceSubMenuRender,\n        subMenuCloseDelay = props.subMenuCloseDelay,\n        builtinPlacements = props.builtinPlacements;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Set onClick to null, to ignore propagated onClick event\n\n      delete props.onClick;\n      var placement = isRTL ? _objectSpread(_objectSpread({}, placementsRtl), builtinPlacements) : _objectSpread(_objectSpread({}, placements), builtinPlacements);\n      delete props.direction; // [Legacy] It's a fast fix,\n      // but we should check if we can refactor this to make code more easy to understand\n\n      var baseProps = this.getBaseProps();\n      var mergedMotion = inline ? null : this.getMotion(baseProps.mode, baseProps.visible);\n      return /*#__PURE__*/React.createElement(\"li\", _extends({}, props, mouseEvents, {\n        className: className,\n        role: \"menuitem\"\n      }), /*#__PURE__*/React.createElement(Trigger, {\n        prefixCls: prefixCls,\n        popupClassName: classNames(\"\".concat(prefixCls, \"-popup\"), popupClassName),\n        getPopupContainer: getPopupContainer,\n        builtinPlacements: placement,\n        popupPlacement: popupPlacement,\n        popupVisible: inline ? false : visible,\n        popupAlign: popupAlign,\n        popup: inline ? null : children,\n        action: disabled || inline ? [] : [triggerSubMenuAction],\n        mouseEnterDelay: subMenuOpenDelay,\n        mouseLeaveDelay: subMenuCloseDelay,\n        onPopupVisibleChange: this.onPopupVisibleChange,\n        forceRender: forceSubMenuRender,\n        popupMotion: mergedMotion\n      }, title), inline ? children : null);\n    }\n  }]);\n  return SubMenu;\n}(React.Component);\nSubMenu.defaultProps = {\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  onTitleMouseEnter: noop,\n  onTitleMouseLeave: noop,\n  onTitleClick: noop,\n  manualRef: noop,\n  mode: 'vertical',\n  title: ''\n};\nvar connected = connect(function (_ref2, _ref3) {\n  var openKeys = _ref2.openKeys,\n    activeKey = _ref2.activeKey,\n    selectedKeys = _ref2.selectedKeys;\n  var eventKey = _ref3.eventKey,\n    subMenuKey = _ref3.subMenuKey;\n  return {\n    isOpen: openKeys.indexOf(eventKey) > -1,\n    active: activeKey[subMenuKey] === eventKey,\n    selectedKeys: selectedKeys\n  };\n})(SubMenu);\nconnected.isSubMenu = true;\nexport default connected;","map":{"version":3,"names":["_extends","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_createSuper","_defineProperty","_objectSpread","React","ReactDOM","Trigger","raf","KeyCode","CSSMotion","classNames","connect","SubPopupMenu","placements","placementsRtl","noop","loopMenuItemRecursively","getMenuIdFromSubMenuEventKey","menuAllProps","guid","popupPlacementMap","horizontal","vertical","updateDefaultActiveFirst","store","eventKey","defaultActiveFirst","menuId","state","getState","setState","SubMenu","_React$Component","_super","props","_this","call","onDestroy","key","onKeyDown","e","keyCode","menu","menuInstance","visible","getVisible","ENTER","onTitleClick","RIGHT","triggerOpenChange","LEFT","handled","undefined","UP","DOWN","onOpenChange","onPopupVisibleChange","onMouseEnter","_this$props","domEvent","onMouseLeave","_this$props2","parentMenu","subMenuInstance","onTitleMouseEnter","_this$props3","onItemHover","hover","onTitleMouseLeave","_this$props4","_assertThisInitialize","triggerSubMenuAction","onSubMenuClick","info","onClick","addKeyPath","onSelect","onDeselect","getPrefixCls","concat","rootPrefixCls","getActiveClassName","getDisabledClassName","getSelectedClassName","getOpenClassName","isOpen","getMode","mode","saveMenuInstance","c","keyPath","open","type","openChange","item","trigger","mouseenterTimeout","setTimeout","isChildrenSelected","ret","find","children","selectedKeys","isInlineMode","adjustWidth","subMenuTitle","popupMenu","findDOMNode","offsetWidth","style","minWidth","saveSubMenuTitle","getBaseProps","_assertThisInitialize2","mergedMode","level","inlineIndent","focusable","openKeys","motion","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","builtinPlacements","multiple","prefixCls","id","internalMenuId","manualRef","itemIcon","expandIcon","direction","getMotion","_assertThisInitialize3","haveRendered","_this$props5","mergedMotion","leavedClassName","removeOnLeave","motionAppear","_store$getState","isRootMenu","value","componentDidMount","componentDidUpdate","_this2","_this$props6","updateState","isOpenChanged","isModeChanged","cancel","updateStateRaf","minWidthTimeout","componentWillUnmount","_this$props7","clearTimeout","renderPopupMenu","className","baseProps","createElement","renderChildren","_this3","haveOpened","sharedClassName","forceRender","_ref","mergedClassName","render","_classNames2","_props$parentMenu","_classNames3","inline","active","disabled","mouseEvents","titleClickEvents","titleMouseEvents","isRTL","paddingRight","paddingLeft","ariaOwns","icon","title","ref","role","getPopupContainer","triggerNode","parentNode","popupPlacement","popupAlign","popupOffset","offset","popupClassName","forEach","placement","popupVisible","popup","action","mouseEnterDelay","mouseLeaveDelay","popupMotion","Component","defaultProps","connected","_ref2","_ref3","activeKey","subMenuKey","indexOf","isSubMenu"],"sources":["C:/Users/Oğuz/Desktop/fullstack/src/frontend/node_modules/rc-menu/es/SubMenu.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport * as ReactDOM from 'react-dom';\nimport Trigger from 'rc-trigger';\nimport raf from \"rc-util/es/raf\";\nimport KeyCode from \"rc-util/es/KeyCode\";\nimport CSSMotion from 'rc-motion';\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport SubPopupMenu from './SubPopupMenu';\nimport { placements, placementsRtl } from './placements';\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey, menuAllProps } from './util';\nvar guid = 0;\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\n  var menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  var state = store.getState();\n  store.setState({\n    defaultActiveFirst: _objectSpread(_objectSpread({}, state.defaultActiveFirst), {}, _defineProperty({}, menuId, defaultActiveFirst))\n  });\n};\n\nexport var SubMenu = /*#__PURE__*/function (_React$Component) {\n  _inherits(SubMenu, _React$Component);\n\n  var _super = _createSuper(SubMenu);\n\n  function SubMenu(props) {\n    var _this;\n\n    _classCallCheck(this, SubMenu);\n\n    _this = _super.call(this, props);\n\n    _this.onDestroy = function (key) {\n      _this.props.onDestroy(key);\n    };\n    /**\n     * note:\n     *  This legacy code that `onKeyDown` is called by parent instead of dom self.\n     *  which need return code to check if this event is handled\n     */\n\n\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode;\n      var menu = _this.menuInstance;\n      var store = _this.props.store;\n\n      var visible = _this.getVisible();\n\n      if (keyCode === KeyCode.ENTER) {\n        _this.onTitleClick(e);\n\n        updateDefaultActiveFirst(store, _this.props.eventKey, true);\n        return true;\n      }\n\n      if (keyCode === KeyCode.RIGHT) {\n        if (visible) {\n          menu.onKeyDown(e);\n        } else {\n          _this.triggerOpenChange(true); // need to update current menu's defaultActiveFirst value\n\n\n          updateDefaultActiveFirst(store, _this.props.eventKey, true);\n        }\n\n        return true;\n      }\n\n      if (keyCode === KeyCode.LEFT) {\n        var handled;\n\n        if (visible) {\n          handled = menu.onKeyDown(e);\n        } else {\n          return undefined;\n        }\n\n        if (!handled) {\n          _this.triggerOpenChange(false);\n\n          handled = true;\n        }\n\n        return handled;\n      }\n\n      if (visible && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n        return menu.onKeyDown(e);\n      }\n\n      return undefined;\n    };\n\n    _this.onOpenChange = function (e) {\n      _this.props.onOpenChange(e);\n    };\n\n    _this.onPopupVisibleChange = function (visible) {\n      _this.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n    };\n\n    _this.onMouseEnter = function (e) {\n      var _this$props = _this.props,\n          key = _this$props.eventKey,\n          onMouseEnter = _this$props.onMouseEnter,\n          store = _this$props.store;\n      updateDefaultActiveFirst(store, _this.props.eventKey, false);\n      onMouseEnter({\n        key: key,\n        domEvent: e\n      });\n    };\n\n    _this.onMouseLeave = function (e) {\n      var _this$props2 = _this.props,\n          parentMenu = _this$props2.parentMenu,\n          eventKey = _this$props2.eventKey,\n          onMouseLeave = _this$props2.onMouseLeave;\n      parentMenu.subMenuInstance = _assertThisInitialized(_this);\n      onMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onTitleMouseEnter = function (domEvent) {\n      var _this$props3 = _this.props,\n          key = _this$props3.eventKey,\n          onItemHover = _this$props3.onItemHover,\n          onTitleMouseEnter = _this$props3.onTitleMouseEnter;\n      onItemHover({\n        key: key,\n        hover: true\n      });\n      onTitleMouseEnter({\n        key: key,\n        domEvent: domEvent\n      });\n    };\n\n    _this.onTitleMouseLeave = function (e) {\n      var _this$props4 = _this.props,\n          parentMenu = _this$props4.parentMenu,\n          eventKey = _this$props4.eventKey,\n          onItemHover = _this$props4.onItemHover,\n          onTitleMouseLeave = _this$props4.onTitleMouseLeave;\n      parentMenu.subMenuInstance = _assertThisInitialized(_this);\n      onItemHover({\n        key: eventKey,\n        hover: false\n      });\n      onTitleMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onTitleClick = function (e) {\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props;\n\n      props.onTitleClick({\n        key: props.eventKey,\n        domEvent: e\n      });\n\n      if (props.triggerSubMenuAction === 'hover') {\n        return;\n      }\n\n      _this.triggerOpenChange(!_this.getVisible(), 'click');\n\n      updateDefaultActiveFirst(props.store, _this.props.eventKey, false);\n    };\n\n    _this.onSubMenuClick = function (info) {\n      // in the case of overflowed submenu\n      // onClick is not copied over\n      if (typeof _this.props.onClick === 'function') {\n        _this.props.onClick(_this.addKeyPath(info));\n      }\n    };\n\n    _this.onSelect = function (info) {\n      _this.props.onSelect(info);\n    };\n\n    _this.onDeselect = function (info) {\n      _this.props.onDeselect(info);\n    };\n\n    _this.getPrefixCls = function () {\n      return \"\".concat(_this.props.rootPrefixCls, \"-submenu\");\n    };\n\n    _this.getActiveClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-active\");\n    };\n\n    _this.getDisabledClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-disabled\");\n    };\n\n    _this.getSelectedClassName = function () {\n      return \"\".concat(_this.getPrefixCls(), \"-selected\");\n    };\n\n    _this.getOpenClassName = function () {\n      return \"\".concat(_this.props.rootPrefixCls, \"-submenu-open\");\n    };\n\n    _this.getVisible = function () {\n      return _this.state.isOpen;\n    };\n\n    _this.getMode = function () {\n      return _this.state.mode;\n    };\n\n    _this.saveMenuInstance = function (c) {\n      // children menu instance\n      _this.menuInstance = c;\n    };\n\n    _this.addKeyPath = function (info) {\n      return _objectSpread(_objectSpread({}, info), {}, {\n        keyPath: (info.keyPath || []).concat(_this.props.eventKey)\n      });\n    };\n\n    _this.triggerOpenChange = function (open, type) {\n      var key = _this.props.eventKey;\n\n      var openChange = function openChange() {\n        _this.onOpenChange({\n          key: key,\n          item: _assertThisInitialized(_this),\n          trigger: type,\n          open: open\n        });\n      };\n\n      if (type === 'mouseenter') {\n        // make sure mouseenter happen after other menu item's mouseleave\n        _this.mouseenterTimeout = setTimeout(function () {\n          openChange();\n        }, 0);\n      } else {\n        openChange();\n      }\n    };\n\n    _this.isChildrenSelected = function () {\n      var ret = {\n        find: false\n      };\n      loopMenuItemRecursively(_this.props.children, _this.props.selectedKeys, ret);\n      return ret.find;\n    };\n\n    _this.isInlineMode = function () {\n      return _this.getMode() === 'inline';\n    };\n\n    _this.adjustWidth = function () {\n      /* istanbul ignore if */\n      if (!_this.subMenuTitle || !_this.menuInstance) {\n        return;\n      }\n\n      var popupMenu = ReactDOM.findDOMNode(_this.menuInstance);\n\n      if (popupMenu.offsetWidth >= _this.subMenuTitle.offsetWidth) {\n        return;\n      }\n      /* istanbul ignore next */\n\n\n      popupMenu.style.minWidth = \"\".concat(_this.subMenuTitle.offsetWidth, \"px\");\n    };\n\n    _this.saveSubMenuTitle = function (subMenuTitle) {\n      _this.subMenuTitle = subMenuTitle;\n    };\n\n    _this.getBaseProps = function () {\n      var _assertThisInitialize2 = _assertThisInitialized(_this),\n          props = _assertThisInitialize2.props;\n\n      var mergedMode = _this.getMode();\n\n      return {\n        mode: mergedMode === 'horizontal' ? 'vertical' : mergedMode,\n        visible: _this.getVisible(),\n        level: props.level + 1,\n        inlineIndent: props.inlineIndent,\n        focusable: false,\n        onClick: _this.onSubMenuClick,\n        onSelect: _this.onSelect,\n        onDeselect: _this.onDeselect,\n        onDestroy: _this.onDestroy,\n        selectedKeys: props.selectedKeys,\n        eventKey: \"\".concat(props.eventKey, \"-menu-\"),\n        openKeys: props.openKeys,\n        motion: props.motion,\n        onOpenChange: _this.onOpenChange,\n        subMenuOpenDelay: props.subMenuOpenDelay,\n        parentMenu: _assertThisInitialized(_this),\n        subMenuCloseDelay: props.subMenuCloseDelay,\n        forceSubMenuRender: props.forceSubMenuRender,\n        triggerSubMenuAction: props.triggerSubMenuAction,\n        builtinPlacements: props.builtinPlacements,\n        defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n        multiple: props.multiple,\n        prefixCls: props.rootPrefixCls,\n        id: _this.internalMenuId,\n        manualRef: _this.saveMenuInstance,\n        itemIcon: props.itemIcon,\n        expandIcon: props.expandIcon,\n        direction: props.direction\n      };\n    };\n\n    _this.getMotion = function (mode, visible) {\n      var _assertThisInitialize3 = _assertThisInitialized(_this),\n          haveRendered = _assertThisInitialize3.haveRendered;\n\n      var _this$props5 = _this.props,\n          motion = _this$props5.motion,\n          rootPrefixCls = _this$props5.rootPrefixCls; // don't show transition on first rendering (no animation for opened menu)\n      // show appear transition if it's not visible (not sure why)\n      // show appear transition if it's not inline mode\n\n      var mergedMotion = _objectSpread(_objectSpread({}, motion), {}, {\n        leavedClassName: \"\".concat(rootPrefixCls, \"-hidden\"),\n        removeOnLeave: false,\n        motionAppear: haveRendered || !visible || mode !== 'inline'\n      });\n\n      return mergedMotion;\n    };\n\n    var store = props.store,\n        eventKey = props.eventKey;\n\n    var _store$getState = store.getState(),\n        defaultActiveFirst = _store$getState.defaultActiveFirst;\n\n    _this.isRootMenu = false;\n    var value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n    _this.state = {\n      mode: props.mode,\n      isOpen: props.isOpen\n    };\n    return _this;\n  }\n\n  _createClass(SubMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.componentDidUpdate();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      var _this2 = this;\n\n      var _this$props6 = this.props,\n          mode = _this$props6.mode,\n          parentMenu = _this$props6.parentMenu,\n          manualRef = _this$props6.manualRef,\n          isOpen = _this$props6.isOpen;\n\n      var updateState = function updateState() {\n        _this2.setState({\n          mode: mode,\n          isOpen: isOpen\n        });\n      }; // Delay sync when mode changed in case openKeys change not sync\n\n\n      var isOpenChanged = isOpen !== this.state.isOpen;\n      var isModeChanged = mode !== this.state.mode;\n\n      if (isModeChanged || isOpenChanged) {\n        raf.cancel(this.updateStateRaf);\n\n        if (isModeChanged) {\n          this.updateStateRaf = raf(updateState);\n        } else {\n          updateState();\n        }\n      } // invoke customized ref to expose component to mixin\n\n\n      if (manualRef) {\n        manualRef(this);\n      }\n\n      if (mode !== 'horizontal' || !(parentMenu === null || parentMenu === void 0 ? void 0 : parentMenu.isRootMenu) || !isOpen) {\n        return;\n      }\n\n      this.minWidthTimeout = setTimeout(function () {\n        return _this2.adjustWidth();\n      }, 0);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      var _this$props7 = this.props,\n          onDestroy = _this$props7.onDestroy,\n          eventKey = _this$props7.eventKey;\n\n      if (onDestroy) {\n        onDestroy(eventKey);\n      }\n      /* istanbul ignore if */\n\n\n      if (this.minWidthTimeout) {\n        clearTimeout(this.minWidthTimeout);\n      }\n      /* istanbul ignore if */\n\n\n      if (this.mouseenterTimeout) {\n        clearTimeout(this.mouseenterTimeout);\n      }\n\n      raf.cancel(this.updateStateRaf);\n    }\n  }, {\n    key: \"renderPopupMenu\",\n    value: function renderPopupMenu(className, style) {\n      var baseProps = this.getBaseProps();\n      /**\n       * zombiej: Why SubPopupMenu here?\n       * Seems whatever popup or inline mode both will render SubPopupMenu.\n       * It's controlled by Trigger for popup or not.\n       */\n\n      return /*#__PURE__*/React.createElement(SubPopupMenu, _extends({}, baseProps, {\n        id: this.internalMenuId,\n        className: className,\n        style: style\n      }), this.props.children);\n    }\n  }, {\n    key: \"renderChildren\",\n    value: function renderChildren() {\n      var _this3 = this;\n\n      var baseProps = this.getBaseProps();\n      var mode = baseProps.mode,\n          visible = baseProps.visible,\n          forceSubMenuRender = baseProps.forceSubMenuRender,\n          direction = baseProps.direction; // [Legacy] getMotion must be called before `haveRendered`\n\n      var mergedMotion = this.getMotion(mode, visible);\n      this.haveRendered = true;\n      this.haveOpened = this.haveOpened || visible || forceSubMenuRender; // never rendered not planning to, don't render\n\n      if (!this.haveOpened) {\n        return /*#__PURE__*/React.createElement(\"div\", null);\n      }\n\n      var sharedClassName = classNames(\"\".concat(baseProps.prefixCls, \"-sub\"), _defineProperty({}, \"\".concat(baseProps.prefixCls, \"-rtl\"), direction === 'rtl'));\n\n      if (!this.isInlineMode()) {\n        return this.renderPopupMenu(sharedClassName);\n      }\n\n      return /*#__PURE__*/React.createElement(CSSMotion, _extends({\n        visible: baseProps.visible,\n        forceRender: forceSubMenuRender\n      }, mergedMotion), function (_ref) {\n        var className = _ref.className,\n            style = _ref.style;\n        var mergedClassName = classNames(sharedClassName, className);\n        return _this3.renderPopupMenu(mergedClassName, style);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _classNames2, _props$parentMenu, _classNames3;\n\n      var props = _objectSpread({}, this.props);\n\n      var visible = this.getVisible();\n      var prefixCls = this.getPrefixCls();\n      var inline = this.isInlineMode();\n      var mergedMode = this.getMode();\n      var className = classNames(prefixCls, \"\".concat(prefixCls, \"-\").concat(mergedMode), (_classNames2 = {}, _defineProperty(_classNames2, props.className, !!props.className), _defineProperty(_classNames2, this.getOpenClassName(), visible), _defineProperty(_classNames2, this.getActiveClassName(), props.active || visible && !inline), _defineProperty(_classNames2, this.getDisabledClassName(), props.disabled), _defineProperty(_classNames2, this.getSelectedClassName(), this.isChildrenSelected()), _classNames2));\n\n      if (!this.internalMenuId) {\n        if (props.eventKey) {\n          this.internalMenuId = \"\".concat(props.eventKey, \"$Menu\");\n        } else {\n          guid += 1;\n          this.internalMenuId = \"$__$\".concat(guid, \"$Menu\");\n        }\n      }\n\n      var mouseEvents = {};\n      var titleClickEvents = {};\n      var titleMouseEvents = {};\n\n      if (!props.disabled) {\n        mouseEvents = {\n          onMouseLeave: this.onMouseLeave,\n          onMouseEnter: this.onMouseEnter\n        }; // only works in title, not outer li\n\n        titleClickEvents = {\n          onClick: this.onTitleClick\n        };\n        titleMouseEvents = {\n          onMouseEnter: this.onTitleMouseEnter,\n          onMouseLeave: this.onTitleMouseLeave\n        };\n      }\n\n      var style = {};\n      var direction = props.direction;\n      var isRTL = direction === 'rtl';\n\n      if (inline) {\n        if (isRTL) {\n          style.paddingRight = props.inlineIndent * props.level;\n        } else {\n          style.paddingLeft = props.inlineIndent * props.level;\n        }\n      }\n\n      var ariaOwns = {}; // only set aria-owns when menu is open\n      // otherwise it would be an invalid aria-owns value\n      // since corresponding node cannot be found\n\n      if (this.getVisible()) {\n        ariaOwns = {\n          'aria-owns': this.internalMenuId\n        };\n      } // expand custom icon should NOT be displayed in menu with horizontal mode.\n\n\n      var icon = null;\n\n      if (mergedMode !== 'horizontal') {\n        icon = this.props.expandIcon; // ReactNode\n\n        if (typeof this.props.expandIcon === 'function') {\n          icon = /*#__PURE__*/React.createElement(this.props.expandIcon, _objectSpread({}, this.props));\n        }\n      }\n\n      var title = /*#__PURE__*/React.createElement(\"div\", _extends({\n        ref: this.saveSubMenuTitle,\n        style: style,\n        className: \"\".concat(prefixCls, \"-title\"),\n        role: \"button\"\n      }, titleMouseEvents, titleClickEvents, {\n        \"aria-expanded\": visible\n      }, ariaOwns, {\n        \"aria-haspopup\": \"true\",\n        title: typeof props.title === 'string' ? props.title : undefined\n      }), props.title, icon || /*#__PURE__*/React.createElement(\"i\", {\n        className: \"\".concat(prefixCls, \"-arrow\")\n      }));\n      var children = this.renderChildren();\n      var getPopupContainer = ((_props$parentMenu = props.parentMenu) === null || _props$parentMenu === void 0 ? void 0 : _props$parentMenu.isRootMenu) ? props.parentMenu.props.getPopupContainer : function (triggerNode) {\n        return triggerNode.parentNode;\n      };\n      var popupPlacement = popupPlacementMap[mergedMode];\n      var popupAlign = props.popupOffset ? {\n        offset: props.popupOffset\n      } : {};\n      var popupClassName = classNames((_classNames3 = {}, _defineProperty(_classNames3, props.popupClassName, props.popupClassName && !inline), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-rtl\"), isRTL), _classNames3));\n      var disabled = props.disabled,\n          triggerSubMenuAction = props.triggerSubMenuAction,\n          subMenuOpenDelay = props.subMenuOpenDelay,\n          forceSubMenuRender = props.forceSubMenuRender,\n          subMenuCloseDelay = props.subMenuCloseDelay,\n          builtinPlacements = props.builtinPlacements;\n      menuAllProps.forEach(function (key) {\n        return delete props[key];\n      }); // Set onClick to null, to ignore propagated onClick event\n\n      delete props.onClick;\n      var placement = isRTL ? _objectSpread(_objectSpread({}, placementsRtl), builtinPlacements) : _objectSpread(_objectSpread({}, placements), builtinPlacements);\n      delete props.direction; // [Legacy] It's a fast fix,\n      // but we should check if we can refactor this to make code more easy to understand\n\n      var baseProps = this.getBaseProps();\n      var mergedMotion = inline ? null : this.getMotion(baseProps.mode, baseProps.visible);\n      return /*#__PURE__*/React.createElement(\"li\", _extends({}, props, mouseEvents, {\n        className: className,\n        role: \"menuitem\"\n      }), /*#__PURE__*/React.createElement(Trigger, {\n        prefixCls: prefixCls,\n        popupClassName: classNames(\"\".concat(prefixCls, \"-popup\"), popupClassName),\n        getPopupContainer: getPopupContainer,\n        builtinPlacements: placement,\n        popupPlacement: popupPlacement,\n        popupVisible: inline ? false : visible,\n        popupAlign: popupAlign,\n        popup: inline ? null : children,\n        action: disabled || inline ? [] : [triggerSubMenuAction],\n        mouseEnterDelay: subMenuOpenDelay,\n        mouseLeaveDelay: subMenuCloseDelay,\n        onPopupVisibleChange: this.onPopupVisibleChange,\n        forceRender: forceSubMenuRender,\n        popupMotion: mergedMotion\n      }, title), inline ? children : null);\n    }\n  }]);\n\n  return SubMenu;\n}(React.Component);\nSubMenu.defaultProps = {\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  onTitleMouseEnter: noop,\n  onTitleMouseLeave: noop,\n  onTitleClick: noop,\n  manualRef: noop,\n  mode: 'vertical',\n  title: ''\n};\nvar connected = connect(function (_ref2, _ref3) {\n  var openKeys = _ref2.openKeys,\n      activeKey = _ref2.activeKey,\n      selectedKeys = _ref2.selectedKeys;\n  var eventKey = _ref3.eventKey,\n      subMenuKey = _ref3.subMenuKey;\n  return {\n    isOpen: openKeys.indexOf(eventKey) > -1,\n    active: activeKey[subMenuKey] === eventKey,\n    selectedKeys: selectedKeys\n  };\n})(SubMenu);\nconnected.isSubMenu = true;\nexport default connected;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}